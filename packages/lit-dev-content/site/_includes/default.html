<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>{% if page.title %}{{ page.title }} &ndash;{% endif %} {{ site.name }}</title>
    <meta name="description" content="{{ site.description }}">
    <meta name="theme-color" content="#FF2F2F">

    <!-- TODO An actual favicon, but this removes an unneccessary fetch/console
         error for now. -->
    <link rel="icon" href="data:,"></link>

    <style>
      {% set maincss %} {% include '../css/main.css' %} {% endset %}
      {{ maincss | cssmin | safe }}
    </style>
    <link rel="preload" href="{{site.baseurl}}/css/codemirror.css" as="style" onload="this.onload=null;this.rel='stylesheet'">

    <link rel="preconnect" href="https://fonts.gstatic.com">

    <script type="module" async src="/js/site.js"></script>
    <script type="module" async src="/js/playground-elements.js"></script>

    <!-- Note it would be more correct to <link rel="modulepreload"> this common
         script, since the other two modules already import it, but
         modulepreload is not yet supported in Firefox or Safari. No real harm
         in actually loading it here. -->
    <script type="module" async src="/js/common.js"></script>

    {% block head %}{% endblock %}

    {% if site.google_analytics %}{% include 'analytics.html' %}{% endif %}
  </head>
  <body>
    <mwc-drawer type="modal" id="nav-drawer">
      <nav class="site-nav">
        <ol>
          <li>
            <span class="section-head">Site</span>
            <ol>{% include 'nav-items.html' %}</ol>
          </li>
          {% block drawer %}{{ content | safe }}{% endblock %}
        </ol>
      </nav>
    </mwc-drawer>

    <header>
      {% include 'header.html' %}
    </header>

    <main>
      {% block content %}{{ content | safe }}{% endblock %}
    </main>

    <footer>
      {% include 'footer.html' %}
    </footer>
  </body>
</html>
