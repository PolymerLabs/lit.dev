{% extends 'default.html' %}

{% block head %}
  {% if dev %}
    <link rel="stylesheet" href="{{site.baseurl}}/css/guide.css"></link>
    <script type="module" src="{{site.baseurl}}/lib/guide.js"></script>
  {% else %}
    <style>
      {% set guidecss %} {% include '../css/guide.css' %} {% endset %}
      {{ guidecss | cssmin | safe }}
    </style>
    <script type="module">{% include 'js/guide.js' %}</script>
  {% endif %}
{% endblock %}

{% block drawer %}
  {% include 'eleventy-nav.html' %}
{% endblock %}

{% block content %}
  <div class="lhs-nav-wrapper">
    <nav class="site-nav lhs-nav">
      <ol>{% include 'eleventy-nav.html' %}</ol>
    </nav>
  </div>

  <div class="rhs-toc-wrapper">
    <nav class="rhs-toc">
      <h2>Contents</h2>
      {{ content | toc | safe }}
    </nav>
  </div>

  <article>
    <h1>{{ title }}</h1>

    <nav class="inline-toc">
      <details>
        <summary><h2>Contents</h2></summary>
        {{ content | toc | safe }}
      </details>
    </nav>

    {{ content | safe }}
  </article>
{% endblock %}
