const e=window.matchMedia("(max-width:899px)");let t=e.matches;e.addEventListener("change",(e=>{t=e.matches})),window.addEventListener("DOMContentLoaded",(()=>{o(),n()}));const o=()=>{document.querySelector(".lhs-nav .active")?.scrollIntoViewIfNeeded?.()},n=()=>{if(!window.IntersectionObserver)return;if(!document.querySelector(".rhs-toc"))return;const e=document.querySelector("article");if(!e)return;const o=new Map;for(const e of document.querySelectorAll(".rhs-toc [href]")){const t=e.getAttribute("href");if(!t?.startsWith("#"))continue;const n=t.slice(1);o.set(n,e)}const n=new Set,r=new IntersectionObserver((e=>{let r=!1;for(const t of e){const e=t.target.id;e&&(r=!0,t.isIntersecting?n.add(e):n.delete(e))}if(!r)return;if(0===n.size)return;let s=!1;for(const[e,r]of o.entries())!s&&n.has(e)?(s=!0,r.classList.add("active"),!t&&Element.prototype.scrollIntoViewIfNeeded&&r.scrollIntoViewIfNeeded()):r.classList.remove("active")}));for(const t of e.querySelectorAll("h2[id],h3[id]"))r.observe(t)};
