{% extends 'default.html' %}

{% block head %}
  {% inlinecss "docs.css" %}
  {% inlinejs "docs.js" %}
  {% if '/api/' in page.url %}
    {% inlinecss "docs-api.css" %}
  {% endif %}
{% endblock %}

{% block content %}
  <div id="docsNavWrapper">
    <nav id="docsNav">
      <ol>{% include 'docs-nav.html' %}</ol>
    </nav>
  </div>

  <div id="rhsTocWrapper">
    <nav id="rhsToc">
      <h2>Contents</h2>
      <div id="rhsTocInner">
        {{ content | toc | safe }}
      </div>
    </nav>
  </div>

  <div id="articleWrapper">
    <article>
      <h1>{{ title }}</h1>

      <nav id="inlineToc">
        <details>
          <summary><h2>Contents</h2></summary>
          {{ content | toc | safe }}
        </details>
      </nav>

      {{ content | safe }}

      {% set navItems = collections.docs | eleventyNavigation | flattenNavigationAndAddNextPrev %}
      {% for item in navItems %}
        {% if item.url === page.url and item.parent %}
          {% set prev = item.prev %}
          {% if not prev.parent %}
            {% set prev = prev.prev %}
          {% endif %}
          {% set next = item.next %}
          {% if not next.parent %}
            {% set next = next.next %}
          {% endif %}

          <div id="prevAndNextLinks">
            <a id="prevLink" href="{{ prev.url }}">
              {% if prev %}
                <!-- Source: https://material.io/resources/icons/?icon=arrow_back -->
                <svg class="arrow" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor">
                  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                </svg>
                <span class="direction">Previous</span>
                <span class="title">{{ prev.url | docsUrlTitle }}</span>
              {% endif %}
            </a>

            <a id="nextLink" href="{{ next.url }}">
              {% if next %}
                <span class="direction">Next</span>
                <span class="title">{{ next.url | docsUrlTitle }}</span>
                <!-- Source: https://material.io/resources/icons/?icon=arrow_forward -->
                <svg class="arrow" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor">
                  <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" />
                </svg>
              {% endif %}
            </a>
          </div>
        {% endif %}
      {% endfor %}
    </article>
  </div>


{% endblock %}
