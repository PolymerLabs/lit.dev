---
title: 组合概览
eleventyNavigation:
  parent: 组合
  key: 概览
  order: 1
---

组合是一种管理复杂性并将代码组织成可重用片段的策略。 Lit 为组合和代码重用提供了几种方式：

*   组件组合。
*   响应式控制器。
*   类混入。

[_组件组合_]({{baseurl}}/docs/composition/component-composition/) 是简单组件组装复杂组件的过程。 组件可以在其模板中使用子组件。 组件可以使用标准的 DOM 机制进行通信：设置子组件的属性，以及监听来自子组件的事件。

尽管组件组合是考虑将复杂的 Lit 项目分解为更小的单元的默认方式，但还有其他两种值得注意的代码模式可用于分解 Lit 代码：

[_响应式控制器_]({{baseurl}}/docs/composition/controllers/) 是可以挂钩到 Lit 组件的更新生命周期的对象，将与功能相关的状态和行为封装到单独的代码单元中。

[_类 Mixin_]({{baseurl}}/docs/composition/mixins/) 让你编写可重用的组件的部分定义并将它们“混合”到组件的继承链中。

Mixin 和响应式控制器都允许你将与功能相关的组件逻辑分解为可重用单元。 有关控制器和 mixin 的比较，请参阅下一节。

## 控制器与 mixin

控制器和类 mixin 在某些方面非常相似。 它们都可以连接到宿主组件的生命周期、维护状态并触发宿主元素更新。

控制器和 mixin 之间的主要区别在于它们与组件的关系。 组件与响应式控制器具有“有”关系，因为组件拥有控制器。 组件与 mixin 具有“是”关系，因为组件是 mixin 类的实例。

反应式控制器是组件拥有的独立对象。 控制器可以访问组件上的方法和字段，组件也可以访问控制器上的方法和字段。 但是控制器不能（轻易地）被使用该组件的使用者访问，除非该组件向它公开了一个公共 API。 控制器的生命周期方法组件上的相应生命周期方法 _之前_ 被调用。

mixin 是组件原型链的一部分。 由 mixin 定义的任何公共字段或方法都是组件 API 的一部分。 由于 mixin 是原型链的一部分，因此你的组件可以控制何时调用 mixin 的生命周期回调。

一般来说，如果你想要决定是将某个功能打包为控制器还是 mixin，你应该选择控制器， _除非_ 该功能需要以下之一：

*   向组件添加公共 API。
*   对组件生命周期的非常精细的访问。
